<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Log in into your WebDAV Account</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body onload="setFormAction()">
<div class="container">
    <form action="/api/v1/store/login" method="post" name="loginForm">
        <div class="form-group">
            <label for="webdavDomain">WebDAV Domain</label>
            <input type="text" class="form-control" id="webdavDomain" name="webdavDomain" aria-describedby="webdavDomainHelp" placeholder="Enter WebDAV domain">
        </div>
        <div class="form-group">
            <label for="username">WebDAV Username</label>
            <input type="text" class="form-control" id="username" name="username" aria-describedby="usernameHelp" placeholder="Enter username">
        </div>
        <div class="form-group">
            <label for="password">WebDAV Password</label>
            <input type="password" class="form-control" id="password" name="password" placeholder="Password">
        </div>
        <button type="submit" class="btn btn-primary">Log in</button>
    </form>
</div>
</body>
<script>
    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    function setFormAction() {
        let value = getParameterByName('sessionId')
        document.loginForm.action += '/' + value
    }
</script>
</html>
